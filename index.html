import React, { useState } from â€˜reactâ€™;
import { MapPin, Lock, Unlock, ChevronRight } from â€˜lucide-reactâ€™;

const StateGuess = () => {
const [currentClue, setCurrentClue] = useState(0);
const [unlockedClues, setUnlockedClues] = useState([0]);
const [showFinal, setShowFinal] = useState(false);
const [feedback, setFeedback] = useState(â€™â€™);

const clues = [
{
id: 0,
title: â€œStart Your Journey!â€,
question: â€œWeâ€™re going to a state that borders the country of Mexico. Which of these states does that?â€,
options: [â€œOregonâ€, â€œNevadaâ€, â€œArizonaâ€],
correct: 2,
hint: â€œLook at a map - which states are on the southern border with Mexico?â€
},
{
id: 1,
title: â€œClue #2â€,
question: â€œThis state has the most people living in it of any U.S. state - almost 40 million! Which state is it?â€,
options: [â€œTexasâ€, â€œNew Yorkâ€, â€œFloridaâ€],
correct: 0,
hint: â€œItâ€™s the most populous state in the whole country!â€
},
{
id: 2,
title: â€œClue #3â€,
question: â€œThis state is home to the tallest trees in the world AND the largest trees by volume. What are these giant trees called?â€,
options: [â€œSequoias and Redwoodsâ€, â€œOak and Maple Treesâ€, â€œPine and Fir Treesâ€],
correct: 0,
hint: â€œSome of these trees are over 2,000 years old and taller than the Statue of Liberty!â€
},
{
id: 3,
title: â€œClue #4â€,
question: â€œThis state has both the highest point in the continental U.S. (Mount Whitney) AND the lowest point (Death Valley). Which state has such extreme geography?â€,
options: [â€œColoradoâ€, â€œArizonaâ€, â€œNevadaâ€],
correct: 0,
hint: â€œThese two extreme points are only about 85 miles apart!â€
},
{
id: 4,
title: â€œClue #5â€,
question: â€œIn 1849, thousands of people rushed to this state hoping to find gold. What was this event called?â€,
options: [â€œThe Gold Rushâ€, â€œThe Silver Strikeâ€, â€œThe Treasure Huntâ€],
correct: 0,
hint: â€œPeople who came were called â€˜forty-ninersâ€™ because of the year!â€
},
{
id: 5,
title: â€œClue #6â€,
question: â€œThis state grows more fruits and vegetables than any other state in America. It produces almost all of Americaâ€™s almonds, walnuts, and avocados!â€,
options: [â€œFloridaâ€, â€œIowaâ€, â€œKansasâ€],
correct: 0,
hint: â€œThe central valley of this state is one of the most productive farming regions in the world!â€
},
{
id: 6,
title: â€œAlmost There!â€,
question: â€œThis state is home to famous national parks including Yosemite and Joshua Tree. It also has stunning coastline along the Pacific Ocean.â€,
options: [â€œWashingtonâ€, â€œOregonâ€, â€œArizonaâ€],
correct: 0,
hint: â€œThink about which state has both mountains AND ocean!â€
},
{
id: 7,
title: â€œFinal Clue!â€,
question: â€œThis stateâ€™s nickname is â€˜The Golden Stateâ€™ and its capital is Sacramento. Which state are we visiting?â€,
options: [â€œTexasâ€, â€œCaliforniaâ€, â€œFloridaâ€],
correct: 1,
hint: â€œIt became the 31st state in 1850!â€
}
];

const handleAnswer = (clueId, selectedIndex) => {
if (selectedIndex === clues[clueId].correct) {
setFeedback(â€˜âœ… Correct!â€™);
setTimeout(() => {
setFeedback(â€™â€™);
if (clueId === clues.length - 1) {
setShowFinal(true);
} else {
const nextClue = clueId + 1;
if (!unlockedClues.includes(nextClue)) {
setUnlockedClues([â€¦unlockedClues, nextClue]);
}
setCurrentClue(nextClue);
}
}, 1000);
} else {
setFeedback(â€˜âŒ Not quite! Try again.â€™);
setTimeout(() => setFeedback(â€™â€™), 2000);
}
};

return (
<div className="min-h-screen bg-gradient-to-br from-blue-400 via-purple-400 to-pink-400 p-4 sm:p-8">
<div className="max-w-2xl mx-auto">
<h1 className="text-3xl sm:text-4xl font-bold text-white text-center mb-2">
ğŸ—ºï¸ Ollieâ€™s Mystery Trip! ğŸ—ºï¸
</h1>
<p className="text-base sm:text-lg text-white text-center mb-6 sm:mb-8 px-2">
Solve the clues to discover which STATE youâ€™re visiting!
</p>

```
    {/* Progress tracker */}
    <div className="bg-white rounded-lg p-3 sm:p-4 mb-4 sm:mb-6 shadow-lg overflow-x-auto">
      <div className="flex justify-between items-center min-w-max sm:min-w-0">
        {clues.map((clue, index) => (
          <div key={clue.id} className="flex items-center">
            <div className={`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center flex-shrink-0 ${
              unlockedClues.includes(index) 
                ? 'bg-green-500 text-white' 
                : 'bg-gray-300 text-gray-500'
            }`}>
              {unlockedClues.includes(index) ? <Unlock size={16} className="sm:w-5 sm:h-5" /> : <Lock size={16} className="sm:w-5 sm:h-5" />}
            </div>
            {index < clues.length - 1 && (
              <div className={`w-4 sm:w-8 h-1 ${
                unlockedClues.includes(index + 1) ? 'bg-green-500' : 'bg-gray-300'
              }`} />
            )}
          </div>
        ))}
      </div>
    </div>

    {/* Current clue */}
    {!showFinal ? (
      <div className="bg-white rounded-lg p-4 sm:p-6 shadow-xl">
        <div className="flex items-center mb-4">
          <MapPin className="text-purple-500 mr-2 flex-shrink-0" size={24} />
          <h2 className="text-xl sm:text-2xl font-bold text-gray-800">
            {clues[currentClue].title}
          </h2>
        </div>
        
        <p className="text-base sm:text-lg text-gray-700 mb-6">
          {clues[currentClue].question}
        </p>

        <div className="space-y-3">
          {clues[currentClue].options.map((option, index) => (
            <button
              key={index}
              onClick={() => handleAnswer(currentClue, index)}
              className="w-full p-3 sm:p-4 text-left bg-gradient-to-r from-purple-100 to-blue-100 hover:from-purple-200 hover:to-blue-200 active:from-purple-300 active:to-blue-300 rounded-lg border-2 border-purple-300 transition-all transform active:scale-95 touch-manipulation"
            >
              <span className="font-semibold text-gray-800 text-sm sm:text-base">{option}</span>
            </button>
          ))}
        </div>

        {feedback && (
          <div className={`mt-4 p-3 rounded-lg text-center font-bold ${
            feedback.includes('Correct') 
              ? 'bg-green-100 text-green-800 border-2 border-green-300' 
              : 'bg-red-100 text-red-800 border-2 border-red-300'
          }`}>
            {feedback}
          </div>
        )}

        <div className="mt-6 p-3 sm:p-4 bg-yellow-50 rounded-lg border-2 border-yellow-200">
          <p className="text-xs sm:text-sm text-yellow-800">
            ğŸ’¡ <strong>Hint:</strong> {clues[currentClue].hint}
          </p>
        </div>
      </div>
    ) : (
      <div className="bg-white rounded-lg p-6 sm:p-8 shadow-xl text-center">
        <div className="text-5xl sm:text-6xl mb-4">ğŸ‰</div>
        <h2 className="text-3xl sm:text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600 mb-4">
          CALIFORNIA!
        </h2>
        <p className="text-lg sm:text-xl text-gray-700 mb-6">
          You solved it, Ollie! We're going to the state of California!
        </p>
        <div className="text-5xl sm:text-6xl mb-4">â˜€ï¸ğŸŒ´â­</div>
        <p className="text-base sm:text-lg text-gray-600">
          Get ready for an amazing adventure in The Golden State!
        </p>
      </div>
    )}
  </div>
</div>
```

);
};

export default StateGuess;
